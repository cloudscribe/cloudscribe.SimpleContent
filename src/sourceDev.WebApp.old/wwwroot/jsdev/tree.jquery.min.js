(function(){var n,v,u,d,g,r,y,nt,tt,f,it,p,e,t,o,s,i,h,rt,ut,w,c,ft,b,l,k,et=[].slice,ot={}.hasOwnProperty,a=function(n,t){function r(){this.constructor=n}for(var i in t)ot.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};n=this.jQuery;h=function(){function t(t,i){this.$el=n(t);this.options=n.extend({},this.defaults,i)}return t.prototype.defaults={},t.prototype.destroy=function(){return this._deinit()},t.prototype._init=function(){return null},t.prototype._deinit=function(){return null},t.register=function(i,r){var e,o,s,u,f;return u=function(){return"simple_widget_"+r},f=function(i,r){var u;return u=n.data(i,r),u&&u instanceof t?u:null},o=function(t,r){var o,e,c,h,s,l;for(o=u(),s=0,l=t.length;s<l;s++)e=t[s],c=f(e,o),c||(h=new i(e,r),n.data(e,o)||n.data(e,o,h),h._init());return t},s=function(t){var r,e,o,i,h,s;for(r=u(),s=[],i=0,h=t.length;i<h;i++)e=t[i],o=f(e,r),o&&o.destroy(),s.push(n.removeData(e,r));return s},e=function(i,r,f){var c,h,e,o,s,l;for(h=null,s=0,l=i.length;s<l;s++)c=i[s],e=n.data(c,u()),e&&e instanceof t&&(o=e[r],o&&typeof o=="function"&&(h=o.apply(e,f)));return h},n.fn[r]=function(){var t,r,n,i,u;return(n=arguments[0],r=2<=arguments.length?et.call(arguments,1):[],t=this,n===void 0||typeof n=="object")?(u=n,o(t,u)):typeof n=="string"&&n[0]!=="_"?(i=n,i==="destroy"?s(t):e(t,i,r)):void 0}},t}();this.SimpleWidget=h;it=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.is_mouse_handled=!1,i.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",n.proxy(this._mouseDown,this)),this.$el.bind("touchstart.mousewidget",n.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},i.prototype._deinit=function(){var t;return this.$el.unbind("mousedown.mousewidget"),this.$el.unbind("touchstart.mousewidget"),t=n(document),t.unbind("mousemove.mousewidget"),t.unbind("mouseup.mousewidget")},i.prototype._mouseDown=function(n){var t;if(n.which===1)return t=this._handleMouseDown(n,this._getPositionInfo(n)),t&&n.preventDefault(),t},i.prototype._handleMouseDown=function(n,t){if(!i.is_mouse_handled)return(this.is_mouse_started&&this._handleMouseUp(t),this.mouse_down_info=t,!this._mouseCapture(t))?void 0:(this._handleStartMouse(),this.is_mouse_handled=!0,!0)},i.prototype._handleStartMouse=function(){var t;return t=n(document),t.bind("mousemove.mousewidget",n.proxy(this._mouseMove,this)),t.bind("touchmove.mousewidget",n.proxy(this._touchMove,this)),t.bind("mouseup.mousewidget",n.proxy(this._mouseUp,this)),t.bind("touchend.mousewidget",n.proxy(this._touchEnd,this)),this.mouse_delay?this._startMouseDelayTimer():void 0},i.prototype._startMouseDelayTimer=function(){return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(n){return function(){return n._is_mouse_delay_met=!0}}(this),this.mouse_delay),this._is_mouse_delay_met=!1},i.prototype._mouseMove=function(n){return this._handleMouseMove(n,this._getPositionInfo(n))},i.prototype._handleMouseMove=function(n,t){return this.is_mouse_started?(this._mouseDrag(t),n.preventDefault()):this.mouse_delay&&!this._is_mouse_delay_met?!0:(this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==!1,this.is_mouse_started?this._mouseDrag(t):this._handleMouseUp(t),!this.is_mouse_started)},i.prototype._getPositionInfo=function(n){return{page_x:n.pageX,page_y:n.pageY,target:n.target,original_event:n}},i.prototype._mouseUp=function(n){return this._handleMouseUp(this._getPositionInfo(n))},i.prototype._handleMouseUp=function(t){var i;i=n(document);i.unbind("mousemove.mousewidget");i.unbind("touchmove.mousewidget");i.unbind("mouseup.mousewidget");i.unbind("touchend.mousewidget");this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(t))},i.prototype._mouseCapture=function(){return!0},i.prototype._mouseStart=function(){return null},i.prototype._mouseDrag=function(){return null},i.prototype._mouseStop=function(){return null},i.prototype.setMouseDelay=function(n){return this.mouse_delay=n},i.prototype._touchStart=function(n){var t;if(!(n.originalEvent.touches.length>1))return t=n.originalEvent.changedTouches[0],this._handleMouseDown(n,this._getPositionInfo(t))},i.prototype._touchMove=function(n){var t;if(!(n.originalEvent.touches.length>1))return t=n.originalEvent.changedTouches[0],this._handleMouseMove(n,this._getPositionInfo(t))},i.prototype._touchEnd=function(n){var t;if(!(n.originalEvent.touches.length>1))return t=n.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(t))},i}(h);this.Tree={};n=this.jQuery;t={getName:function(n){return t.strings[n-1]},nameToIndex:function(n){for(var i,u=i=1,r=t.strings.length;1<=r?i<=r:i>=r;u=1<=r?++i:--i)if(t.strings[u-1]===n)return u;return 0}};t.BEFORE=1;t.AFTER=2;t.INSIDE=3;t.NONE=4;t.strings=["before","after","inside","none"];this.Tree.Position=t;p=function(){function i(n,t,r){t==null&&(t=!1);r==null&&(r=i);this.setData(n);this.children=[];this.parent=null;t&&(this.id_mapping={},this.tree=this,this.node_class=r)}return i.prototype.setData=function(n){var t,r,i;if(typeof n!="object")return this.name=n;i=[];for(t in n)r=n[t],t==="label"?i.push(this.name=r):i.push(this[t]=r);return i},i.prototype.initFromData=function(n){var t,i;return i=function(n){return function(i){return n.setData(i),i.children?t(i.children):void 0}}(this),t=function(n){return function(t){for(var u,r,i=0,f=t.length;i<f;i++)u=t[i],r=new n.tree.node_class(""),r.initFromData(u),n.addChild(r);return null}}(this),i(n),null},i.prototype.loadFromData=function(n){var r,t,i,u;for(this.removeChildren(),i=0,u=n.length;i<u;i++)t=n[i],r=new this.tree.node_class(t),this.addChild(r),typeof t=="object"&&t.children&&r.loadFromData(t.children);return null},i.prototype.addChild=function(n){return this.children.push(n),n._setParent(this)},i.prototype.addChildAtPosition=function(n,t){return this.children.splice(t,0,n),n._setParent(this)},i.prototype._setParent=function(n){return this.parent=n,this.tree=n.tree,this.tree.addNodeToIndex(this)},i.prototype.removeChild=function(n){return n.removeChildren(),this._removeChild(n)},i.prototype._removeChild=function(n){return this.children.splice(this.getChildIndex(n),1),this.tree.removeNodeFromIndex(n)},i.prototype.getChildIndex=function(t){return n.inArray(t,this.children)},i.prototype.hasChildren=function(){return this.children.length!==0},i.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},i.prototype.iterate=function(n){var t;return t=function(i){return function(r,u){var e,s,f,h,o;if(r.children){for(o=r.children,f=0,h=o.length;f<h;f++)e=o[f],s=n(e,u),i.hasChildren()&&s&&t(e,u+1);return null}}}(this),t(this,0),null},i.prototype.moveNode=function(n,i,r){if(!n.isParentOf(i))return(n.parent._removeChild(n),r===t.AFTER)?i.parent.addChildAtPosition(n,i.parent.getChildIndex(i)+1):r===t.BEFORE?i.parent.addChildAtPosition(n,i.parent.getChildIndex(i)):r===t.INSIDE?i.addChildAtPosition(n,0):void 0},i.prototype.getData=function(){var n;return n=function(){return function(t){var e,i,r,u,o,f,s;for(e=[],f=0,s=t.length;f<s;f++){r=t[f];u={};for(i in r)o=r[i],i!=="parent"&&i!=="children"&&i!=="element"&&i!=="tree"&&Object.prototype.hasOwnProperty.call(r,i)&&(u[i]=o);r.hasChildren()&&(u.children=n(r.children));e.push(u)}return e}}(this),n(this.children)},i.prototype.getNodeByName=function(n){var t;return t=null,this.iterate(function(i){return i.name===n?(t=i,!1):!0}),t},i.prototype.addAfter=function(n){var i,t;return this.parent?(t=new this.tree.node_class(n),i=this.parent.getChildIndex(this),this.parent.addChildAtPosition(t,i+1),t):null},i.prototype.addBefore=function(n){var i,t;return this.parent?(t=new this.tree.node_class(n),i=this.parent.getChildIndex(this),this.parent.addChildAtPosition(t,i),t):null},i.prototype.addParent=function(n){var f,t,i,r,e,u;if(this.parent){for(t=new this.tree.node_class(n),t._setParent(this.tree),i=this.parent,u=i.children,r=0,e=u.length;r<e;r++)f=u[r],t.addChild(f);return i.children=[],i.addChild(t),t}return null},i.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this),this.parent=null},i.prototype.append=function(n){var t;return t=new this.tree.node_class(n),this.addChild(t),t},i.prototype.prepend=function(n){var t;return t=new this.tree.node_class(n),this.addChildAtPosition(t,0),t},i.prototype.isParentOf=function(n){for(var t=n.parent;t;){if(t===this)return!0;t=t.parent}return!1},i.prototype.getLevel=function(){for(var t=0,n=this;n.parent;)t+=1,n=n.parent;return t},i.prototype.getNodeById=function(n){return this.id_mapping[n]},i.prototype.addNodeToIndex=function(n){if(n.id!=null)return this.id_mapping[n.id]=n},i.prototype.removeNodeFromIndex=function(n){if(n.id!=null)return delete this.id_mapping[n.id]},i.prototype.removeChildren=function(){return this.iterate(function(n){return function(t){return n.tree.removeNodeFromIndex(t),!0}}(this)),this.children=[]},i.prototype.getPreviousSibling=function(){var n;return this.parent?(n=this.parent.getChildIndex(this)-1,n>=0?this.parent.children[n]:null):null},i.prototype.getNextSibling=function(){var n;return this.parent?(n=this.parent.getChildIndex(this)+1,n<this.parent.children.length?this.parent.children[n]:null):null},i}();this.Tree.Node=p;g=function(){function t(n){this.tree_widget=n;this.opened_icon_text=this.getHtmlText(n.options.openedIcon);this.closed_icon_text=this.getHtmlText(n.options.closedIcon)}return t.prototype.render=function(n){return n&&n.parent?this.renderFromNode(n):this.renderFromRoot()},t.prototype.renderNode=function(t){var i,f,r,u;return n(t.element).remove(),r=new e(t.parent,this.tree_widget),f=r.getUl(),i=this.createLi(t),this.attachNodeData(t,i),u=t.getPreviousSibling(),u?n(u.element).after(i):r.getUl().prepend(i),t.children?this.renderFromNode(t):void 0},t.prototype.renderFromRoot=function(){var n;return n=this.tree_widget.element,n.empty(),this.createDomElements(n[0],this.tree_widget.tree.children,!0,!0)},t.prototype.renderFromNode=function(n){var t;return t=this.tree_widget._getNodeElementForNode(n),t.getUl().remove(),this.createDomElements(t.$element[0],n.children,!1,!1)},t.prototype.createDomElements=function(n,t,i){var r,u,e,f,o;for(e=this.createUl(i),n.appendChild(e),f=0,o=t.length;f<o;f++)r=t[f],u=this.createLi(r),e.appendChild(u),this.attachNodeData(r,u),r.hasChildren()&&this.createDomElements(u,r.children,!1,r.is_open);return null},t.prototype.attachNodeData=function(t,i){return t.element=i,n(i).data("node",t)},t.prototype.createUl=function(n){var i,t;return i=n?"jqtree-tree":"",t=document.createElement("ul"),t.className="jqtree_common "+i,t},t.prototype.createLi=function(t){var i;if(i=t.isFolder()?this.createFolderLi(t):this.createNodeLi(t),this.tree_widget.options.onCreateLi)this.tree_widget.options.onCreateLi(t,n(i));return i},t.prototype.createFolderLi=function(t){var e,o,u,i,s,h,f,r,c;return o=this.getButtonClasses(t),h=this.getFolderClasses(t),s=this.escapeIfNecessary(t.name),e=t.is_open?this.opened_icon_text:this.closed_icon_text,f=document.createElement("li"),f.className="jqtree_common "+h,i=document.createElement("div"),i.className="jqtree-element jqtree_common",f.appendChild(i),u=document.createElement("a"),u.className="jqtree_common "+o,u.appendChild(document.createTextNode(e)),i.appendChild(u),r=document.createElement("a"),n(r).attr("href","#"),c=this.tree_widget.select_node_handler.isNodeSelected(t),r.className=c?"jqtree_common jqtree-title btn btn-primary btn-block":"jqtree_common jqtree-title btn btn-default btn-block",i.appendChild(r),r.innerHTML=s,f},t.prototype.createNodeLi=function(t){var e,r,o,u,f,i,s=this.tree_widget.select_node_handler.isNodeSelected(t);return f=["jqtree_common"],this.tree_widget.select_node_handler&&s&&f.push("jqtree-selected"),e=f.join(" "),o=this.escapeIfNecessary(t.name),u=document.createElement("li"),u.className=e,r=document.createElement("div"),r.className="jqtree-element jqtree_common",u.appendChild(r),i=document.createElement("a"),n(i).attr("href","#"),i.className=s?"jqtree-title jqtree_common btn btn-primary btn-block":"jqtree-title jqtree_common btn btn-default btn-block",i.innerHTML=o,r.appendChild(i),u},t.prototype.getButtonClasses=function(n){var t;return t=["jqtree-toggler"],n.is_open||t.push("jqtree-closed"),t.join(" ")},t.prototype.getFolderClasses=function(n){var t;return t=["jqtree-folder"],n.is_open||t.push("jqtree-closed"),this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(n)&&t.push("jqtree-selected"),t.join(" ")},t.prototype.escapeIfNecessary=function(n){return this.tree_widget.options.autoEscape?ut(n):n},t.prototype.getHtmlText=function(t){return n(document.createElement("div")).html(t).text()},t}();tt=function(h){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,h),c.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:"&#x25ba;",openedIcon:"&#x25bc;",slide:!0,nodeClass:p,dataFilter:null,keyboardSupport:!0,openFolderDelay:500},c.prototype.toggle=function(n,t){return t==null&&(t=!0),n.is_open?this.closeNode(n,t):this.openNode(n,t)},c.prototype.getTree=function(){return this.tree},c.prototype.selectNode=function(n){return this._selectNode(n,!1)},c.prototype._selectNode=function(n,t){var r,u,f,i;if(t==null&&(t=!1),this.select_node_handler){if(r=function(t){return function(){return t.options.onCanSelectNode?t.options.selectable&&t.options.onCanSelectNode(n):t.options.selectable}}(this),f=function(t){return function(){var i;return i=n.parent,i&&i.parent&&!i.is_open?t.openNode(i,!1):void 0}}(this),i=function(n){return function(){if(n.options.saveState)return n.save_state_handler.saveState()}}(this),!n){this._deselectCurrentNode();i();return}if(r())return this.select_node_handler.isNodeSelected(n)?t&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:n})):(u=this.getSelectedNode(),this._deselectCurrentNode(),this.addToSelection(n),this._triggerEvent("tree.select",{node:n,deselected_node:u}),f()),i()}},c.prototype.getSelectedNode=function(){return this.select_node_handler.getSelectedNode()},c.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},c.prototype.loadData=function(n,t){return this._loadData(n,t)},c.prototype.loadDataFromUrl=function(t,i,r){return n.type(t)!=="string"&&(r=i,i=t,t=null),this._loadDataFromUrl(t,i,r)},c.prototype.reload=function(){return this.loadDataFromUrl()},c.prototype._loadDataFromUrl=function(t,i,u){var f,o,s,e;return f=null,o=function(n){return function(){var t;return i?(t=new r(i,n),f=t.getLi()):f=n.element,f.addClass("jqtree-loading")}}(this),e=function(){return function(){if(f)return f.removeClass("jqtree-loading")}}(this),s=function(){return function(){return n.type(t)==="string"&&(t={url:t}),t.method?void 0:t.method="get"}}(this),o(),t||(t=this._getDataUrlInfo(i)),s(),n.ajax({url:t.url,data:t.data,type:t.method.toUpperCase(),cache:!1,dataType:"json",success:function(t){return function(r){var f;return f=n.isArray(r)||typeof r=="object"?r:n.parseJSON(r),t.options.dataFilter&&(f=t.options.dataFilter(f)),e(),t._loadData(f,i),u&&n.isFunction(u)?u():void 0}}(this),error:function(n){return function(t){if(e(),n.options.onLoadFailed)return n.options.onLoadFailed(t)}}(this)})},c.prototype._loadData=function(n,t){var u,r,i,f;if(n){if(this._triggerEvent("tree.load_data",{tree_data:n}),t){for(r=this.select_node_handler.getSelectedNodesUnder(t),i=0,f=r.length;i<f;i++)u=r[i],this.select_node_handler.removeFromSelection(u);t.loadFromData(n);t.load_on_demand=!1;this._refreshElements(t.parent)}else this._initTree(n);if(this.is_dragging)return this.dnd_handler.refreshHitAreas()}},c.prototype.getNodeById=function(n){return this.tree.getNodeById(n)},c.prototype.getNodeByName=function(n){return this.tree.getNodeByName(n)},c.prototype.openNode=function(n,t){return t==null&&(t=!0),this._openNode(n,t)},c.prototype._openNode=function(n,t,i){var f,u;if(t==null&&(t=!0),f=function(n){return function(t,i,u){var f;return f=new r(t,n),f.open(u,i)}}(this),n.isFolder()){if(n.load_on_demand)return this._loadFolderOnDemand(n,t,i);for(u=n.parent;u&&!u.is_open;)u.parent&&f(u,!1,null),u=u.parent;return f(n,t,i),this._saveState()}},c.prototype._loadFolderOnDemand=function(n,t,i){return t==null&&(t=!0),this._loadDataFromUrl(null,n,function(r){return function(){return r._openNode(n,t,i)}}(this))},c.prototype.closeNode=function(n,t){return t==null&&(t=!0),n.isFolder()?(new r(n,this).close(t),this._saveState()):void 0},c.prototype.isDragging=function(){return this.is_dragging},c.prototype.refreshHitAreas=function(){return this.dnd_handler.refreshHitAreas()},c.prototype.addNodeAfter=function(n,t){var i;return i=t.addAfter(n),this._refreshElements(t.parent),i},c.prototype.addNodeBefore=function(n,t){var i;return i=t.addBefore(n),this._refreshElements(t.parent),i},c.prototype.addParentNode=function(n,t){var i;return i=t.addParent(n),this._refreshElements(i.parent),i},c.prototype.removeNode=function(n){var t;return t=n.parent,t?(this.select_node_handler.removeFromSelection(n,!0),n.remove(),this._refreshElements(t.parent)):void 0},c.prototype.appendNode=function(n,t){var i,r;return t||(t=this.tree),i=t.isFolder(),r=t.append(n),i?this._refreshElements(t):this._refreshElements(t.parent),r},c.prototype.prependNode=function(n,t){var i;return t||(t=this.tree),i=t.prepend(n),this._refreshElements(t),i},c.prototype.updateNode=function(n,t){var i;return i=t.id&&t.id!==n.id,i&&this.tree.removeNodeFromIndex(n),n.setData(t),i&&this.tree.addNodeToIndex(n),this.renderer.renderNode(n),this._selectCurrentNode()},c.prototype.moveNode=function(n,i,r){var u;return u=t.nameToIndex(r),this.tree.moveNode(n,i,u),this._refreshElements()},c.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},c.prototype.addToSelection=function(n){return this.select_node_handler.addToSelection(n),this._getNodeElementForNode(n).select()},c.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},c.prototype.isNodeSelected=function(n){return this.select_node_handler.isNodeSelected(n)},c.prototype.removeFromSelection=function(n){return this.select_node_handler.removeFromSelection(n),this._getNodeElementForNode(n).deselect()},c.prototype.scrollToNode=function(t){var i,r;return i=n(t.element),r=i.offset().top-this.$el.offset().top,this.scroll_handler.scrollTo(r)},c.prototype.getState=function(){return this.save_state_handler.getState()},c.prototype.setState=function(n){return this.save_state_handler.setState(n),this._refreshElements()},c.prototype.setOption=function(n,t){return this.options[n]=t},c.prototype._init=function(){return c.__super__._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.renderer=new g(this),typeof o!="undefined"&&o!==null?this.save_state_handler=new o(this):this.options.saveState=!1,typeof i!="undefined"&&i!==null&&(this.select_node_handler=new i(this)),typeof u!="undefined"&&u!==null?this.dnd_handler=new u(this):this.options.dragAndDrop=!1,typeof s!="undefined"&&s!==null&&(this.scroll_handler=new s(this)),typeof f!="undefined"&&f!==null&&typeof i!="undefined"&&i!==null&&(this.key_handler=new f(this)),this._initData(),this.element.click(n.proxy(this._click,this)),this.element.dblclick(n.proxy(this._dblclick,this)),this.options.useContextMenu?this.element.bind("contextmenu",n.proxy(this._contextmenu,this)):void 0},c.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.key_handler.deinit(),this.tree=null,c.__super__._deinit.call(this)},c.prototype._initData=function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())},c.prototype._getDataUrlInfo=function(t){var i,r;return i=this.options.dataUrl||this.element.data("url"),r=function(n){return function(){var r,f,u;return u={url:i},t&&t.id?(r={node:t.id},u.data=r):(f=n._getNodeIdToBeSelected(),f&&(r={selected_node:f},u.data=r)),u}}(this),n.isFunction(i)?i(t):n.type(i)==="string"?r():i},c.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},c.prototype._initTree=function(n){return this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(n),this._openNodes(),this._refreshElements(),this.is_initialized?void 0:(this.is_initialized=!0,this._triggerEvent("tree.init"))},c.prototype._openNodes=function(){var n;if(!this.options.saveState||!this.save_state_handler.restoreState())return this.options.autoOpen===!1?void 0:(n=this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen),this.tree.iterate(function(t,i){return t.hasChildren()&&(t.is_open=!0),i!==n}))},c.prototype._refreshElements=function(n){return n==null&&(n=null),this.renderer.render(n),this._triggerEvent("tree.refresh")},c.prototype._click=function(n){var t,r,i;if(t=this._getClickTarget(n.target),t){if(t.type==="button")return this.toggle(t.node,this.options.slide),n.preventDefault(),n.stopPropagation();if(t.type==="label"&&(i=t.node,r=this._triggerEvent("tree.click",{node:i,click_event:n}),!r.isDefaultPrevented()))return this._selectNode(i,!0)}},c.prototype._dblclick=function(n){var t;return t=this._getClickTarget(n.target),t&&t.type==="label"?this._triggerEvent("tree.dblclick",{node:t.node,click_event:n}):void 0},c.prototype._getClickTarget=function(t){var r,u,f,i;if(f=n(t),r=f.closest(".jqtree-toggler"),r.length){if(i=this._getNode(r),i)return{type:"button",node:i}}else if(u=f.closest(".jqtree-element"),u.length&&(i=this._getNode(u),i))return{type:"label",node:i};return null},c.prototype._getNode=function(n){var t;return t=n.closest("li"),t.length===0?null:t.data("node")},c.prototype._getNodeElementForNode=function(n){return n.isFolder()?new r(n,this):new e(n,this)},c.prototype._getNodeElement=function(n){var t;return t=this._getNode(n),t?this._getNodeElementForNode(t):null},c.prototype._contextmenu=function(t){var i,r;return i=n(t.target).closest("ul.jqtree-tree .jqtree-element"),i.length&&(r=this._getNode(i),r)?(t.preventDefault(),t.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:r,click_event:t}),!1):void 0},c.prototype._saveState=function(){if(this.options.saveState)return this.save_state_handler.saveState()},c.prototype._mouseCapture=function(n){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(n):!1},c.prototype._mouseStart=function(n){return this.options.dragAndDrop?this.dnd_handler.mouseStart(n):!1},c.prototype._mouseDrag=function(n){var t;return this.options.dragAndDrop?(t=this.dnd_handler.mouseDrag(n),this.scroll_handler&&this.scroll_handler.checkScrolling(),t):!1},c.prototype._mouseStop=function(n){return this.options.dragAndDrop?this.dnd_handler.mouseStop(n):!1},c.prototype._triggerEvent=function(t,i){var r;return r=n.Event(t),n.extend(r,i),this.element.trigger(r),r},c.prototype.testGenerateHitAreas=function(n){return this.dnd_handler.current_item=this._getNodeElementForNode(n),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},c.prototype._selectCurrentNode=function(){var n,t;return n=this.getSelectedNode(),n&&(t=this._getNodeElementForNode(n),t)?t.select():void 0},c.prototype._deselectCurrentNode=function(){var n;return n=this.getSelectedNode(),n?this.removeFromSelection(n):void 0},c}(it);h.register(tt,"tree");e=function(){function i(n,t){this.init(n,t)}return i.prototype.init=function(t,i){return this.node=t,this.tree_widget=i,this.$element=n(t.element)},i.prototype.getUl=function(){return this.$element.children("ul:first")},i.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("a.jqtree-title")},i.prototype.getLi=function(){return this.$element},i.prototype.addDropHint=function(n){return n===t.INSIDE?new v(this.$element):new y(this.node,this.$element,n)},i.prototype.select=function(){return this.getSpan().addClass("btn-primary"),this.getLi().addClass("jqtree-selected")},i.prototype.deselect=function(){return this.getSpan().removeClass("btn-primary"),this.getLi().removeClass("jqtree-selected")},i}();r=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,n),i.prototype.open=function(n,t){var i,r;return t==null&&(t=!0),this.node.is_open?void 0:(this.node.is_open=!0,i=this.getButton(),i.removeClass("jqtree-closed"),i.html(this.tree_widget.options.openedIcon),r=function(t){return function(){return t.getLi().removeClass("jqtree-closed"),n&&n(),t.tree_widget._triggerEvent("tree.open",{node:t.node})}}(this),t?this.getUl().slideDown("fast",r):(this.getUl().show(),r()))},i.prototype.close=function(n){var t,i;return n==null&&(n=!0),this.node.is_open?(this.node.is_open=!1,t=this.getButton(),t.addClass("jqtree-closed"),t.html(this.tree_widget.options.closedIcon),i=function(n){return function(){return n.getLi().addClass("jqtree-closed"),n.tree_widget._triggerEvent("tree.close",{node:n.node})}}(this),n?this.getUl().slideUp("fast",i):(this.getUl().hide(),i())):void 0},i.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},i.prototype.addDropHint=function(n){return this.node.is_open||n!==t.INSIDE?new y(this.node,this.$element,n):new v(this.$element)},i}(e);ut=function(n){return(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};k=function(n,t){for(var u,r,i=r=0,f=n.length;r<f;i=++r)if(u=n[i],u===t)return i;return-1};w=function(n,t){return n.indexOf?n.indexOf(t):k(n,t)};this.Tree.indexOf=w;this.Tree._indexOf=k;this.JSON!=null&&this.JSON.stringify!=null&&typeof this.JSON.stringify=="function"||(c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,ft={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b=function(n){return c.lastIndex=0,c.test(n)?'"'+n.replace(c,function(n){var t;return t=ft[n],typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},l=function(n,t){var u,f,r,e,i,o,s;i=t[n];switch(typeof i){case"string":return b(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(r=[],Object.prototype.toString.apply(i)==="[object Array]"){for(u=o=0,s=i.length;o<s;u=++o)e=i[u],r[u]=l(u,i)||"null";return r.length===0?"[]":"["+r.join(",")+"]"}for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&(e=l(f,i),e&&r.push(b(f)+":"+e));return r.length===0?"{}":"{"+r.join(",")+"}"}},this.JSON==null&&(this.JSON={}),this.JSON.stringify=function(n){return l("",{"":n})});o=function(){function t(n){this.tree_widget=n}return t.prototype.saveState=function(){var t;return(t=JSON.stringify(this.getState()),this.tree_widget.options.onSetStateFromStorage)?this.tree_widget.options.onSetStateFromStorage(t):this.supportsLocalStorage()?localStorage.setItem(this.getCookieName(),t):n.cookie?(n.cookie.raw=!0,n.cookie(this.getCookieName(),t,{path:"/"})):void 0},t.prototype.restoreState=function(){var t;return t=this.getStateFromStorage(),t?(this.setState(n.parseJSON(t)),!0):!1},t.prototype.getStateFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):n.cookie?(n.cookie.raw=!0,n.cookie(this.getCookieName())):null},t.prototype.getState=function(){var n,t,i;return n=[],this.tree_widget.tree.iterate(function(){return function(t){return t.is_open&&t.id&&t.hasChildren()&&n.push(t.id),!0}}(this)),t=this.tree_widget.getSelectedNode(),i=t?t.id:"",{open_nodes:n,selected_node:i}},t.prototype.setState=function(n){var r,t,i;if(n&&(r=n.open_nodes,i=n.selected_node,this.tree_widget.tree.iterate(function(){return function(n){return n.is_open=n.id&&n.hasChildren()&&w(r,n.id)>=0,!0}}(this)),i&&this.tree_widget.select_node_handler&&(this.tree_widget.select_node_handler.clear(),t=this.tree_widget.getNodeById(i),t)))return this.tree_widget.select_node_handler.addToSelection(t)},t.prototype.getCookieName=function(){return typeof this.tree_widget.options.saveState=="string"?this.tree_widget.options.saveState:"tree"},t.prototype.supportsLocalStorage=function(){var n;return n=function(){var t,n;if(typeof localStorage=="undefined"||localStorage===null)return!1;try{n="_storage_test";sessionStorage.setItem(n,!0);sessionStorage.removeItem(n)}catch(i){return t=i,!1}return!0},this._supportsLocalStorage==null&&(this._supportsLocalStorage=n()),this._supportsLocalStorage},t.prototype.getNodeIdToBeSelected=function(){var i,t;return t=this.getStateFromStorage(),t?(i=n.parseJSON(t),i.selected_node):null},t}();i=function(){function n(n){this.tree_widget=n;this.clear()}return n.prototype.getSelectedNode=function(){var n;return n=this.getSelectedNodes(),n.length?n[0]:!1},n.prototype.getSelectedNodes=function(){var i,n,t;if(this.selected_single_node)return[this.selected_single_node];t=[];for(i in this.selected_nodes)n=this.tree_widget.getNodeById(i),n&&t.push(n);return t},n.prototype.getSelectedNodesUnder=function(n){var r,t,i;if(this.selected_single_node)return n.isParentOf(selected_single_node)?this.selected_single_node:null;i=[];for(r in this.selected_nodes)t=this.tree_widget.getNodeById(r),t&&n.isParentOf(t)&&i.push(t);return i},n.prototype.isNodeSelected=function(n){return n.id?this.selected_nodes[n.id]:this.selected_single_node?this.selected_single_node.element===n.element:!1},n.prototype.clear=function(){return this.selected_nodes={},this.selected_single_node=null},n.prototype.removeFromSelection=function(n,t){if(t==null&&(t=!1),n.id){if(delete this.selected_nodes[n.id],t)return n.iterate(function(t){return function(){return delete t.selected_nodes[n.id],!0}}(this))}else if(this.selected_single_node&&n.element===this.selected_single_node.element)return this.selected_single_node=null},n.prototype.addToSelection=function(n){return n.id?this.selected_nodes[n.id]=!0:this.selected_single_node=n},n}();u=function(){function i(n){this.tree_widget=n;this.hovered_area=null;this.$ghost=null;this.hit_areas=[];this.is_dragging=!1}return i.prototype.mouseCapture=function(t){var r,i;return(r=n(t.target),this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(r))?null:(i=this.tree_widget._getNodeElement(r),i&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(i.node)||(i=null)),this.current_item=i,this.current_item!==null)},i.prototype.mouseStart=function(t){var i;return this.refreshHitAreas(),i=n(t.target).offset(),this.drag_element=new d(this.current_item.node,t.page_x-i.left,t.page_y-i.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},i.prototype.mouseDrag=function(n){var t,i;return this.drag_element.move(n.page_x,n.page_y),t=this.findHoveredArea(n.page_x,n.page_y),i=this.canMoveToArea(t),i&&t?this.hovered_area!==t&&(this.hovered_area=t,this.mustOpenFolderTimer(t)&&this.startOpenFolderTimer(t.node),this.updateDropHint()):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),!0},i.prototype.canMoveToArea=function(n){var i;if(n){if(this.tree_widget.options.onCanMoveTo){i=t.getName(n.position);return this.tree_widget.options.onCanMoveTo(this.current_item.node,n.node,i)}return!0}return!1},i.prototype.mouseStop=function(n){return this.moveItem(n),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),this.current_item&&this.current_item.$element.removeClass("jqtree-moving"),this.is_dragging=!1,!1},i.prototype.refreshHitAreas=function(){return this.removeHitAreas(),this.generateHitAreas()},i.prototype.removeHitAreas=function(){return this.hit_areas=[]},i.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},i.prototype.removeDropHint=function(){if(this.previous_ghost)return this.previous_ghost.remove()},i.prototype.removeHover=function(){return this.hovered_area=null},i.prototype.generateHitAreas=function(){var n;return n=new nt(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom),this.hit_areas=n.generate()},i.prototype.findHoveredArea=function(n,t){var r,i,u,f,e;if(i=this.getTreeDimensions(),n<i.left||t<i.top||n>i.right||t>i.bottom)return null;for(f=0,u=this.hit_areas.length;f<u;)if(e=f+u>>1,r=this.hit_areas[e],t<r.top)u=e;else if(t>r.bottom)f=e+1;else return r;return null},i.prototype.mustOpenFolderTimer=function(n){var i;return i=n.node,i.isFolder()&&!i.is_open&&n.position===t.INSIDE},i.prototype.updateDropHint=function(){var n;if(this.hovered_area)return this.removeDropHint(),n=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=n.addDropHint(this.hovered_area.position)},i.prototype.startOpenFolderTimer=function(n){var t;return t=function(t){return function(){return t.tree_widget._openNode(n,t.tree_widget.options.slide,function(){return t.refreshHitAreas(),t.updateDropHint()})}}(this),this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(t,this.tree_widget.options.openFolderDelay)},i.prototype.stopOpenFolderTimer=function(){if(this.open_folder_timer)return clearTimeout(this.open_folder_timer),this.open_folder_timer=null},i.prototype.moveItem=function(n){var u,e,i,r,o,f;if(this.hovered_area&&this.hovered_area.position!==t.NONE&&this.canMoveToArea(this.hovered_area)&&(i=this.current_item.node,f=this.hovered_area.node,r=this.hovered_area.position,o=i.parent,r===t.INSIDE&&(this.hovered_area.node.is_open=!0),u=function(n){return function(){return n.tree_widget.tree.moveNode(i,f,r),n.tree_widget.element.empty(),n.tree_widget._refreshElements()}}(this),e=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:i,target_node:f,position:t.getName(r),previous_parent:o,do_move:u,original_event:n.original_event}}),!e.isDefaultPrevented()))return u()},i.prototype.getTreeDimensions=function(){var n;return n=this.tree_widget.element.offset(),{left:n.left,top:n.top,right:n.left+this.tree_widget.element.width(),bottom:n.top+this.tree_widget.element.height()+16}},i}();rt=function(){function t(n){this.tree=n}return t.prototype.iterate=function(){var i,t;return i=!0,t=function(r){return function(u,f){var e,v,l,o,s,h,a,c;if(s=(u.is_open||!u.element)&&u.hasChildren(),u.element){if(e=n(u.element),!e.is(":visible"))return;i&&(r.handleFirstNode(u,e),i=!1);u.hasChildren()?u.is_open?r.handleOpenFolder(u,e)||(s=!1):r.handleClosedFolder(u,f,e):r.handleNode(u,f,e)}if(s){for(l=u.children.length,c=u.children,o=h=0,a=c.length;h<a;o=++h)v=c[o],o===l-1?t(u.children[o],null):t(u.children[o],u.children[o+1]);if(u.is_open)return r.handleAfterOpenFolder(u,f,e)}}}(this),t(this.tree,null)},t.prototype.handleNode=function(){},t.prototype.handleOpenFolder=function(){},t.prototype.handleClosedFolder=function(){},t.prototype.handleAfterOpenFolder=function(){},t.prototype.handleFirstNode=function(){},t}();nt=function(i){function r(n,t,i){r.__super__.constructor.call(this,n);this.current_node=t;this.tree_bottom=i}return a(r,i),r.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},r.prototype.getTop=function(n){return n.offset().top},r.prototype.addPosition=function(n,t,i){var r;return r={top:i,node:n,position:t},this.positions.push(r),this.last_top=i},r.prototype.handleNode=function(n,i,r){var u;return u=this.getTop(r),n===this.current_node?this.addPosition(n,t.NONE,u):this.addPosition(n,t.INSIDE,u),i===this.current_node||n===this.current_node?this.addPosition(n,t.NONE,u):this.addPosition(n,t.AFTER,u)},r.prototype.handleOpenFolder=function(n,i){return n===this.current_node?!1:(n.children[0]!==this.current_node&&this.addPosition(n,t.INSIDE,this.getTop(i)),!0)},r.prototype.handleClosedFolder=function(n,i,r){var u;return(u=this.getTop(r),n===this.current_node)?this.addPosition(n,t.NONE,u):(this.addPosition(n,t.INSIDE,u),i!==this.current_node)?this.addPosition(n,t.AFTER,u):void 0},r.prototype.handleFirstNode=function(i){if(i!==this.current_node)return this.addPosition(i,t.BEFORE,this.getTop(n(i.element)))},r.prototype.handleAfterOpenFolder=function(n,i){return n===this.current_node.node||i===this.current_node.node?this.addPosition(n,t.NONE,this.last_top):this.addPosition(n,t.AFTER,this.last_top)},r.prototype.generateHitAreas=function(n){var t,u,i,r,f,e;for(r=-1,t=[],u=[],f=0,e=n.length;f<e;f++)i=n[f],i.top!==r&&t.length&&(t.length&&this.generateHitAreasForGroup(u,t,r,i.top),r=i.top,t=[]),t.push(i);return this.generateHitAreasForGroup(u,t,r,this.tree_bottom),u},r.prototype.generateHitAreasForGroup=function(n,t,i,r){var e,u,f,o,s;for(s=Math.min(t.length,4),e=Math.round((r-i)/s),u=i,f=0;f<s;)o=t[f],n.push({top:u,bottom:u+e,node:o.node,position:o.position}),u+=e,f+=1;return null},r}(rt);d=function(){function t(t,i,r,u){this.offset_x=i;this.offset_y=r;this.$element=n('<span class="jqtree-title jqtree-dragging">'+t.name+"<\/span>");this.$element.css("position","absolute");u.append(this.$element)}return t.prototype.move=function(n,t){return this.$element.offset({left:n-this.offset_x,top:t-this.offset_y})},t.prototype.remove=function(){return this.$element.remove()},t}();y=function(){function i(i,r,u){this.$element=r;this.node=i;this.$ghost=n('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"><\/span><span class="jqtree_common jqtree-line"><\/span><\/li>');u===t.AFTER?this.moveAfter():u===t.BEFORE?this.moveBefore():u===t.INSIDE&&(i.isFolder()&&i.is_open?this.moveInsideOpenFolder():this.moveInside())}return i.prototype.remove=function(){return this.$ghost.remove()},i.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},i.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},i.prototype.moveInsideOpenFolder=function(){return n(this.node.children[0].element).before(this.$ghost)},i.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},i}();v=function(){function t(t){var i,r;i=t.children(".jqtree-element");r=t.width()-4;this.$hint=n('<span class="jqtree-border"><\/span>');i.append(this.$hint);this.$hint.css({width:r,height:i.height()-4})}return t.prototype.remove=function(){return this.$hint.remove()},t}();s=function(){function t(n){this.tree_widget=n;this.previous_top=-1;this._initScrollParent()}return t.prototype._initScrollParent=function(){var t,r,i;return r=function(t){return function(){var r,u,f,i,o,e;if(r=["overflow","overflow-y"],f=function(t){for(var u,e,i=0,f=r.length;i<f;i++)if(u=r[i],(e=n.css(t,u))==="auto"||e==="scroll")return!0;return!1},f(t.tree_widget.$el[0]))return t.tree_widget.$el;for(e=t.tree_widget.$el.parents(),i=0,o=e.length;i<o;i++)if(u=e[i],f(u))return n(u);return null}}(this),i=function(n){return function(){return n.scroll_parent_top=0,n.$scroll_parent=null}}(this),this.tree_widget.$el.css("position")==="fixed"&&i(),t=r(),t&&t.length&&t[0].tagName!=="HTML"?(this.$scroll_parent=t,this.scroll_parent_top=this.$scroll_parent.offset().top):i()},t.prototype.checkScrolling=function(){var n;return n=this.tree_widget.dnd_handler.hovered_area,n&&n.top!==this.previous_top?(this.previous_top=n.top,this.$scroll_parent?this._handleScrollingWithScrollParent(n):this._handleScrollingWithDocument(n)):void 0},t.prototype._handleScrollingWithScrollParent=function(n){var t;return(t=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-n.bottom,t<20)?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):n.top-this.scroll_parent_top<20?(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):void 0},t.prototype._handleScrollingWithDocument=function(t){var i;return(i=t.top-n(document).scrollTop(),i<20)?n(document).scrollTop(n(document).scrollTop()-20):n(window).height()-(t.bottom-n(document).scrollTop())<20?n(document).scrollTop(n(document).scrollTop()+20):void 0},t.prototype.scrollTo=function(t){var i;return this.$scroll_parent?this.$scroll_parent[0].scrollTop=t:(i=this.tree_widget.$el.offset().top,n(document).scrollTop(t+i))},t.prototype.isScrolledIntoView=function(t){var i,f,r,e,u;return i=n(t),this.$scroll_parent?(u=0,e=this.$scroll_parent.height(),r=i.offset().top-this.scroll_parent_top,f=r+i.height()):(u=n(window).scrollTop(),e=u+n(window).height(),r=i.offset().top,f=r+i.height()),f<=e&&r>=u},t}();f=function(){function t(t){this.tree_widget=t;t.options.keyboardSupport&&n(document).bind("keydown.jqtree",n.proxy(this.handleKeyDown,this))}var i,r,u,f;return r=37,f=38,u=39,i=40,t.prototype.deinit=function(){return n(document).unbind("keydown.jqtree")},t.prototype.handleKeyDown=function(t){var e,s,h,c,l,a,o;if(this.tree_widget.options.keyboardSupport){if(n(document.activeElement).is("textarea,input"))return!0;if(e=this.tree_widget.getSelectedNode(),o=function(t){return function(i){return i?(t.tree_widget.selectNode(i),t.tree_widget.scroll_handler&&!t.tree_widget.scroll_handler.isScrolledIntoView(n(i.element).find(".jqtree-element"))&&t.tree_widget.scrollToNode(i),!1):!0}}(this),h=function(n){return function(){return o(n.getNextNode(e))}}(this),a=function(n){return function(){return o(n.getPreviousNode(e))}}(this),l=function(n){return function(){return e.isFolder()&&!e.is_open?(n.tree_widget.openNode(e),!1):!0}}(this),c=function(n){return function(){return e.isFolder()&&e.is_open?(n.tree_widget.closeNode(e),!1):!0}}(this),e){s=t.which;switch(s){case i:return h();case f:return a();case u:return l();case r:return c()}}else return!0}},t.prototype.getNextNode=function(n,t){var i;return t==null&&(t=!0),t&&n.hasChildren()&&n.is_open?n.children[0]:n.parent?(i=n.getNextSibling(),i?i:this.getNextNode(n.parent,!1)):null},t.prototype.getPreviousNode=function(n){var t;return n.parent?(t=n.getPreviousSibling(),t?t.hasChildren()&&t.is_open?this.getLastChild(t):t:n.parent.parent?n.parent:null):null},t.prototype.getLastChild=function(n){var t;return n.hasChildren()?(t=n.children[n.children.length-1],t.hasChildren()&&t.is_open?this.getLastChild(t):t):null},t}()}).call(this);